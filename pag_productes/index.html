<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
        integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->
    <title>AutoPlanet</title>
</head>

<body>

    <body>
        <div id="main">



            <nav class="nav">
                <button class="btn-carret">
                    <img id="logo" src="img/logo/logo.png" alt="logo">
                </button>
                <form class="buscar-form" role="search">
                    <input class="buscar" id="searchInput" type="search" placeholder="Buscar" aria-label="Search"
                        v-model="searchTerm" @input="onSearchInput">
                    <button class="buscar-btn" id="btn-buscar" type="submit"><img class="buscar-ico"
                            src="https://cdn-icons-png.flaticon.com/256/3917/3917132.png"><!-- Search -->
                    </button>



                </form>
                <div class="nav__botones">
                    <button class="btn-carret">
                        <img class="barraSuperior" src="img/iconos/volante.png">
                    </button>
                    <button class="btn-carret">
                        <img class="barraSuperior" src="img/iconos/camion.png">
                    </button>
                    <button class="btn-carret" @click="toggle()">
                        <img v-if="!carrEstat" src="./img/iconos/shopping-cart.png">
                        <img v-else="carrEstat" src="./img/iconos/shopping-cart-exclamation.png">
                    </button>
                </div>



<div>
    <label for="orden">Ordenar por precio:</label>
    <select id="orden" v-model="orden">
        <option value="null">Sin orden</option>
        <option value="asc">Menor a Mayor</option>
        <option value="desc">Mayor a Menor</option>
    </select>
  </div>




            </nav>
            <div id="productes">
                <div id="filtreCategories">
                    <label for="categoria">Filtrar per categoria:</label>
                    <select id="categoria" v-model="selectedCategoria">
                        <option value="todos">Totes</option>
                        <option v-for="categoria in categorias" :value="categoria">{{ categoria }}</option>
                    </select>
                </div>

                <div :class="{'cont':visible}">
                    <div :class="{'prods':visible, 'prods1':!visible}">
                        <div v-for="(actual,index) in filteredProductes()" class="prod card shadow-sm"
                            :class="{'selected': actual.carro > 0}">

                            <div class="imatgeProducte">
                                <img :src="actual.image_url">

                                <span class="ultimesU">
                                    <p v-if="actual.stock<=10" class="unitats">Últimes unitats</p>
                                </span>
                            </div>



                            <h1 class="card-text">
                                {{actual.name}}
                            </h1>



                            <div class="stock_prodGrid">

                                <div class="preu">
                                    <h2>
                                        {{actual.price}}€
                                    </h2>
                                </div>
                                <div class="afe">
                                    <button class="btn btn-sm btn-outline-secondary" @click="sumar(index)">
                                        Afegir al carro
                                    </button>
                                </div>

                            </div>


                        </div>
                    </div>

                    <div class="checkout" :class="{amagat:!visible}">
                        <div class="card shadow-sm">
                            <div class="over">
                                <transition-group name="slide-carro">
                                    <div v-for="(actual,index) in carret" :key="index" class="carro">


                                        <span>
                                            <p>{{actual.name}}</p>
                                        </span>
                                        <div class="btn-group">
                                            <button id="restar_carret" class="btn btn-sm btn-outline-secondary"
                                                @click="restarC(index)">
                                                -
                                            </button>

                                            <button id="sumar_carret" class="btn btn-sm btn-outline-secondary"
                                                @click="sumarC(index)">
                                                +
                                            </button>
                                        </div>
                                        <span class="centrat">
                                            <p>x{{actual.carro}}</p>
                                        </span>
                                        <span>
                                            <h4>{{parseFloat((actual.price*actual.carro).toFixed(2))}}€</p>
                                        </span>
                                    </div>
                                </transition-group>
                            </div>
                            <div class="total">
                                <h2>Total: {{parseFloat((totalCarret).toFixed(2))}}€</h4>
                                    <button class="btn btn-outline-secondary">
                                        Veure carret
                                    </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer>
                <div class="footer">
                    <div class="footer__section">
                        <h3>Contacto</h3>
                        <p>Dirección: Calle Auto, Ciudad</p>
                        <p>Email: info@autoplanet.com</p>
                        <p>Teléfono: +123 456 7890</p>
                    </div>


                    <div class="footer__section">
                        <h3>Síguenos</h3>
                        <p>Síguenos en redes sociales para obtener las últimas actualizaciones y ofertas.</p>
                        <div class="social-icons">
                            <a href="#"><img class="social-icons__logos" src="img/logo/facebook.png" alt="Facebook"></a>
                            <a href="#"><img class="social-icons__logos" src="img/logo/instagram.png"
                                    alt="Instagram"></a>
                        </div>
                    </div>
                </div>
            </footer>
        </div>

    </body>
    <script src="./js/functions.js" type="module"></script>

</html>